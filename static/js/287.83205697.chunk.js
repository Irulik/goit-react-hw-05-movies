"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[287],{524:function(t,n,e){e.d(n,{OT:function(){return u},QY:function(){return s},Y5:function(){return p},oO:function(){return f},y:function(){return l}});var r=e(165),a=e(433),o=e(861),i=e(243),c="f21ad1b0f922e79efcddc668ffbc9508";i.Z.defaults.baseURL="https://api.themoviedb.org/3";var s=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){var e,o,s,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={page:1,results:[],total_pages:n,total_results:2e4},o=1;case 2:if(!(o<=n)){t.next=12;break}return t.next=5,i.Z.get("/trending/movie/day?api_key=".concat(c,"&page=").concat(o));case 5:u=t.sent,(s=e.results).push.apply(s,(0,a.Z)(u.data.results)),e.page=o,e.total_results=u.data.total_pages;case 9:o++,t.next=2;break;case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),u=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){var e,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/search/movie?api_key=".concat(c,"&query=").concat(n,"&language=en-US&page=1&include_adult=false"));case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){var e,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(n,"?api_key=").concat(c,"&language=en-US"));case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){var e,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(n,"/credits?api_key=").concat(c,"&language=en-US"));case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){var e,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(n,"/reviews?api_key=").concat(c,"&language=en-US&page=1"));case 2:return e=t.sent,a=e.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},287:function(t,n,e){e.r(n),e.d(n,{Movies:function(){return O},default:function(){return C}});var r,a,o,i,c,s,u,p,l,f,d=e(165),g=e(861),x=e(439),h=e(791),b=e(524),v=e(87),Z=e(689),m=e(686),w=e.n(m),y=e(168),k=e(867),_=(0,k.ZP)(v.rU)(r||(r=(0,y.Z)(["\n\tmax-width: 200px;\n\tbackground-color: #ffdab9;\n\tdisplay: flex;\n\tposition: relative;\n\tjustify-content: space-between;\n\tflex-direction: column;\n\ttext-decoration: none;\n\tborder-radius: 5px;\n\ttransition: scale 250ms linear, box-shadow 250ms linear;\n\t&:hover {\n\t\tscale: calc(1.03);\n\t\tbox-shadow: 0px 0px 20px 8px gray;\n\t}\n\t&:nth-last-child(-n + 4) {\n\t\tmargin-bottom: 0;\n\t}\n"]))),S=(0,k.ZP)("div")(a||(a=(0,y.Z)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 12px;\n"]))),P=(0,k.ZP)("h2")(o||(o=(0,y.Z)(["\n\ttext-align: left;\n\tfont-size: 20px;\n\tcolor: coral;\n\tpadding: 10px;  \n\t\t\t\t\n"]))),j=((0,k.ZP)(v.rU)(i||(i=(0,y.Z)(["\n\tdisplay: inline-block;\n\tpadding: 10px;\n\ttext-decoration: none;\n\tborder-radius: 5px;\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tcolor: coral;\n\tborder: 1px solid blue;\n\tbackground-color: lightblue;\n\ttransition: background-color 250ms linear, color 250ms linear;\n\t&:hover, :focus {\n\t\tbackground-color: #ffdab9;\n\t\tcolor: blue;\n\t}\n"]))),(0,k.ZP)("button")(c||(c=(0,y.Z)(["\n\tfont-size: 20px;\n\tbackground-color: #ffdab9;\n\tcolor: blue;\n\tborder: none;\n\tborder-radius: 5px;\n\tcursor: pointer;\n\tborder: 1px solid ffdab9;\n\ttransition: background-color 250ms linear, color 250ms linear;\n\t&:hover, focus {\n\t\tcolor: blue;\n\t\tbackground-color: lightblue;\n\t}\n"])))),U=(0,k.ZP)("form")(s||(s=(0,y.Z)(["\n\tdisplay: flex;\n\tgap: 20px;\n\tpadding: 20px;\n"]))),z=(0,k.ZP)("input")(u||(u=(0,y.Z)(["\n\tpadding: 10px;\n\tfont-size: 20px;\n\toutline: none;\n\tborder: 1px solid blue;\n\tborder-radius: 5px;\n"]))),N=((0,k.ZP)("div")(p||(p=(0,y.Z)(["\n\tpadding: 50px;\n"]))),(0,k.ZP)("h3")(l||(l=(0,y.Z)(["\n\tmargin-top: 0;\n\tfont-size: 20px;\n"]))),(0,k.ZP)("div")(f||(f=(0,y.Z)(["\n\tpadding: 20px;\n"]))),e(184)),O=function(){var t,n=(0,h.useState)([]),e=(0,x.Z)(n,2),r=e[0],a=e[1],o=(0,v.lr)(),i=(0,x.Z)(o,2),c=i[0],s=i[1],u=(0,h.useState)(""),p=(0,x.Z)(u,2),l=p[0],f=p[1],m=null!==(t=c.get("filter"))&&void 0!==t?t:"",y=(0,Z.TH)(),k=JSON.parse(sessionStorage.getItem("navigationHistory"))||[];(0,h.useEffect)((function(){m&&(f(m),O(m))}),[m]);var O=function(){var t=(0,g.Z)((0,d.Z)().mark((function t(n){var e,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,b.OT)(n);case 3:e=t.sent,(r=e.results).length<1&&w().Notify.warning("We can't find it, try again"),a(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),w().Notify.warning("Something wrong, try again please");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(n){return t.apply(this,arguments)}}();return r?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(U,{onSubmit:function(t){l||w().Notify.warning("Please fill in the gap"),t.preventDefault(),s(""!==l?{filter:l}:{}),f(""),O(l),k.push("/movies?filter="+l),sessionStorage.setItem("navigationHistory",JSON.stringify(k))},children:[(0,N.jsx)(z,{type:"text",value:l,name:"input",onChange:function(t){return n=t.currentTarget.value.toLowerCase(),void f(n);var n}}),(0,N.jsx)(j,{type:"submit",children:"Search"})]}),r&&(0,N.jsx)(S,{children:r.map((function(t){var n;return n=t.poster_path?"https://image.tmdb.org/t/p/w400/".concat(t.poster_path):"https://content.rozetka.com.ua/goods/images/big/274786444.jpg",(0,N.jsxs)(_,{to:"".concat(t.id),state:{from:y},children:[(0,N.jsx)("img",{src:n,width:"400",alt:t.title}),(0,N.jsx)(P,{children:t.title})]},t.id)}))})]}):null},C=O}}]);
//# sourceMappingURL=287.83205697.chunk.js.map