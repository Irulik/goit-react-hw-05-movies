"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[453],{524:function(t,e,n){n.d(e,{OT:function(){return o},QY:function(){return c},Y5:function(){return p},oO:function(){return l},y:function(){return f}});var r=n(165),a=n(433),u=n(861),i=n(243),s="f21ad1b0f922e79efcddc668ffbc9508";i.Z.defaults.baseURL="https://api.themoviedb.org/3";var c=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){var n,u,c,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={page:1,results:[],total_pages:e,total_results:2e4},u=1;case 2:if(!(u<=e)){t.next=12;break}return t.next=5,i.Z.get("/trending/movie/day?api_key=".concat(s,"&page=").concat(u));case 5:o=t.sent,(c=n.results).push.apply(c,(0,a.Z)(o.data.results)),n.page=u,n.total_results=o.data.total_pages;case 9:u++,t.next=2;break;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/search/movie?api_key=".concat(s,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(e,"?api_key=").concat(s,"&language=en-US"));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(e,"/credits?api_key=").concat(s,"&language=en-US"));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(e,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},453:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var r,a,u,i=n(439),s=n(165),c=n(861),o=n(689),p=n(87),f=n(168),l=n(867),d=l.ZP.ul(r||(r=(0,f.Z)(["\n\tmargin-top: 12px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\tgap: 10px;\n"]))),v=l.ZP.li(a||(a=(0,f.Z)(["\n\tflex-grow: 1;\n\t&:hover a, &:focus a{\n\t\tbackground-color: var(--hover-accent-2);\n\t\tcolor: var(--cta-text);\n\t}\n\ta{\n\t\tposition: relative;\n\t\tpadding: 16px;\n\t\tfont-weight: 700;\n\t\tfont-size: 20px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\toverflow: hidden;\n\t  \tposition: relative;\n\t  \tborder-radius: 8px;\n\t}\n"]))),g=l.ZP.div(u||(u=(0,f.Z)(["\n\topacity: 0.2;\n\tposition: absolute;\n\tleft: 0;\n\ttop: -100%;\n\twidth: 100%;\n\theight: auto;\n\timg{\n\t\twidth: 100%;\n\t}\n"]))),h=n(791),m=n(184),x=function(t){var e=t.movies,n=(0,o.TH)(),r=(0,h.useState)(!0),a=(0,i.Z)(r,2),u=a[0],f=a[1],l=(0,h.useState)([]),x=(0,i.Z)(l,2),Z=x[0],w=x[1];return(0,h.useEffect)((function(){var t=function(){var t=(0,c.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!==typeof e.results){t.next=5;break}return t.next=3,new Promise((function(t){return setTimeout(t,1e3)}));case 3:t.next=0;break;case 5:w(e.results),f(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,m.jsx)(d,{children:u?(0,m.jsx)("p",{children:"Loading..."}):Z.map((function(t){return(0,m.jsx)(v,{children:(0,m.jsxs)(p.rU,{state:{from:n},to:"/movies/".concat(t.id),children:[(0,m.jsx)(g,{children:(0,m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500//"+t.poster_path,alt:t.title})}),t.original_title]})},t.id)}))})},Z=n(524),w=function(){var t=(0,h.useState)([]),e=(0,i.Z)(t,2),n=e[0],r=e[1],a=(0,o.TH)();(0,h.useEffect)((function(){(0,Z.QY)(3).then(r)}),[]);var u=(0,h.useMemo)((function(){return JSON.parse(sessionStorage.getItem("navigationHistory"))||[]}),[]);return(0,h.useEffect)((function(){u.push(a.pathname),sessionStorage.setItem("navigationHistory",JSON.stringify(u))}),[a.pathname,u]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h1",{children:"Trending movies"}),(0,m.jsx)(x,{movies:n})]})}}}]);
//# sourceMappingURL=453.7dbe1845.chunk.js.map